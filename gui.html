
<!DOCTYPE html>
<html lang="en" dir="ltr">
   <head>
      <meta charset="utf-8">
      <title>welcome</title>
      <link rel="stylesheet" href="style.css">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
   </head>
   <body>
      <style>
         #error {
           background : #F2DEDE;
           color : #A94442;
           padding:10px;
           width : 95%;
           border-radius:5px;
           height: 100%;
          width: 100%;
          
                 }
       </style>

      <div class="wrapper">
         <div class="title-text">
            <div class="title encryption">
             Encryption
            </div>
            <div class="title decryption">
             Decryption
            </div>
         </div>
         <div class="form-container">
            <div class="slide-controls">
               <input type="radio" name="slide" id="encryption" checked>
               <input type="radio" name="slide" id="decryption">
               <label for="encryption" class="slide encryption">Encrypte</label>
               <label for="decryption" class="slide decryption">Decrypte</label>
               <div class="slider-tab"></div>
            </div>
            <p>Please Enter a valid text from 0 to 34</p>
            <!-- ENCRYPTION -->
            <div class="form-inner">
               <form action="#" class="encryption">
                  <div class="field">
                     <input id = "plaintext" type="text" placeholder="Plaintext" required>
                  </div>
                  <div id="EnErrormsg"></div>
                  <div class="field">
                     <span class="label other"id ="encryptionResult"></span>
                  </div>
                  <div class="field btn">
                     <div class="btn-layer"></div>
                     <input id = "plaintextBTN" type="submit" value="Encrypte">
                  </div>
              </form>
              <!-- DECRYPTION -->
               <form action="#" class="decryption">
                  <div class="field">
                     <input id = "ciphertext" type="text" placeholder="Ciphertext" required>
                  </div>
                  <div id="DeErrormsg"></div>
                  <div class="field">
                     <span class="label other"id ="decryptionResult"></span> 
                  </div>
                  <div class="field btn"> 
                     <div class="btn-layer"></div>
                     <input id = "ciphertextBTN" type="submit" value="Decrypte">
                  </div>
               </form>
            </div>
         </div>
      </div>
   </script>
</script>


<script type = "text/javascript">
   var p = 7 ; /* 1st prime number p*/
   var q = 5; /* 2st prime number q*/
   var n = p * q ; /* n */
   var z = ( p - 1 )*( q - 1 ); /*Euler*/
   var e = 7 ;/* public key */
   var d = 7 ;/* private key */


   
   function start(){
      var plaintext = document.getElementById("plaintextBTN");
      var ciphertext = document.getElementById("ciphertextBTN");
      plaintext.addEventListener("mousedown",encrypt,false );
      ciphertext.addEventListener("mousedown",decrypt,false );
   }

   function encrypt(){

      var msg = document.getElementById("plaintext").value;
      var ciphertext;
      var result = document.getElementById("encryptionResult");
      if (isNaN(msg)){
         result.innerHTML="<p id='error' class = 'pos'style= color:red;>Invalid Input(Just numbers)</p>";
      }
      else if(msg < 0 )
      {
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(Just positive numbers)</p>"; 
      }
      else if(msg >= 35){
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(reach the maximum)</p>";
      }
      else if(Number.isInteger(+msg)){      /*IF input IS VAlid*/
         ciphertext = (Math.pow(msg,e)) % n;;
       result.innerHTML="<p class = 'pos'style= color:#4269ac;>The Ciphertext="+ciphertext+"</p>";
       
      }
      else{
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(Just Integer numbers)</p>";
      
      }
       
   }

   function decrypt(){

      var c = document.getElementById("ciphertext").value;
      var plaintext;
      var result = document.getElementById("decryptionResult");
      if (isNaN(c) ){
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(Just numbers)</p>";
      }
      else if(c < 0 )
      {
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(Just positive numbers)</p>";
      }
      else if(c >= 35){
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(reach the maximum)</p>";  
      }
      else if(Number.isInteger(+c)){      /*IF input IS VAlid*/
         pliantext = (Math.pow(c,d)) % n;;
       result.innerHTML="<p class = 'pos'style= color:#4269ac;>The Pliantext="+pliantext+"</p>";
       
      }
      else{
         result.innerHTML="<p id='error' class = 'pos' style= color:red;>Invalid Input(Just Integer numbers)</p>";
      
      }
       
   }
      window.addEventListener( "load" , start , false );
   </script>

      <!--  GUI   -->
      <script>
         const encryptionText = document.querySelector(".title-text .encryption");
         const encryptionForm = document.querySelector("form.encryption");
         const encryptionBtn = document.querySelector("label.encryption");
         const decryptionBtn = document.

         querySelector("label.decryption");
         const decryptionLink = document.querySelector("form .decryption-link a");
         decryptionBtn.onclick = (()=>{
          encryptionForm.style.marginLeft = "-50%";
          encryptionText.style.marginLeft = "-50%";
         });
         encryptionBtn.onclick = (()=>{
          encryptionForm.style.marginLeft = "0%";
          encryptionText.style.marginLeft = "0%";
         });
         decryptionLink.onclick = (()=>{
          decryptionBtn.click();
           return false;
         });
         </script>
   </body>
</html>